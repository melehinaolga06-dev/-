<html>
  <head>
    <title>Тест</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
<h1>Тест: Насколько хорошо ты знаешь муравьёв? <a href="index.html"><img src= "iconka.png" width=40, height=40></a> </h1>
<p>В этом тесте Вы сможете проверить свои знания о муравьях:) </p>
<div class="question">
        <h3>1. К какому отряду относятся муравьи?</h3>
        <input type="radio" name="q1" value="correct"> Перепончатокрылые<br>
        <input type="radio" name="q1" value="wrong"> Жесткокрылые<br>
        <input type="radio" name="q1" value="wrong"> Чешуекрылые<br>
    </div>

    <div class="question">
        <h3>2. Сколько стадий развития у муравьёв?</h3>
        <input type="radio" name="q2" value="wrong"> 3<br>
        <input type="radio" name="q2" value="correct"> 4<br>
        <input type="radio" name="q2" value="wrong"> 5<br>
        <input type="radio" name="q2" value="wrong"> 6<br>
    </div>

    <div class="question">
        <h3>3. Какие муравьи в муравейнике отвечают за хранение воды?</h3>
        <input type="radio" name="q3" value="wrong"> Водоносы<br>
        <input type="radio" name="q3" value="wrong"> Резервуары<br>
        <input type="radio" name="q3" value="correct"> Бочки<br>
    </div>

    <div class="question">
        <h3>4. Каких насекомых НЕ разводят муравьи?</h3>
      <input type="radio" name="q4" value="wrong"> червецы<br>
        <input type="radio" name="q4" value="correct"> плодовые мушки<br>
        <input type="radio" name="q4" value="wrong"> тля <br>
        <input type="radio" name="q4" value="wrong"> листоблошки<br>
      <input type="radio" name="q4" value="wrong"> цикады<br>
    </div>

  <div class="question">
        <h3>5. Что такое падь?</h3>
        <input type="radio" name="q4" value="wrong"> Падаль - погибшие насекомые<br>
        <input type="radio" name="q4" value="correct"> Жидкость, выделяемая некоторыми насекомыми<br>
        <input type="radio" name="q4" value="wrong"> Опавшие плоды и семена<br>
    </div>

    <br>
    <button onclick="checkResults()">Проверить результаты</button>
    <button onclick="resetTest()">Начать заново</button>
    
    <div id="scoreInfo" style="margin-top: 10px; font-weight: bold;"></div>
</div>

<script>
let totalScore = 0;
  
const correctAnswers = {
    q1: 'correct',  
    q2: 'correct',    
    q3: 'correct',   
    q4: 'correct'   
};

function checkResults() {
    totalScore = 0;
    
    for (let question in correctAnswers) {
        const selectedAnswer = getSelectedValue(question);
        
        if (selectedAnswer === correctAnswers[question]) {
            totalScore++;
        }
    }
    
    
    showFinalResult();
}


function getSelectedValue(questionName) {
    const radios = document.getElementsByName(questionName);
    
    for (let radio of radios) {
        if (radio.checked) {
            return radio.value;
        }
    }
    return null; 
}

function showFinalResult() {
    const totalQuestions = Object.keys(correctAnswers).length;
    const percentage = Math.round((totalScore / totalQuestions) * 100);
    
    
    let message = `Ваш результат: ${totalScore} из ${totalQuestions} баллов (${percentage}%)`;
    
    // Добавляем оценку
    if (percentage === 100) {
        message += "\n Отлично! Вы хорошо знаете муравьёв.";
    } else if (percentage >= 50) {
        message += "\n Неплохо, но можно лучше.";
    } else {
        message += "\n Почитайте ещё о муравьях.";
    }
    
    alert(message);
    
   
    document.getElementById('scoreInfo').innerHTML = 
        `Набрано баллов: ${totalScore} из ${totalQuestions}`;
}

function resetTest() {
    const allRadios = document.querySelectorAll('input[type="radio"]');
    allRadios.forEach(radio => {
        radio.checked = false;
    });
    
    totalScore = 0;
    document.getElementById('scoreInfo').innerHTML = '';
    
    alert('Тест сброшен! Начните заново.');
}

</html>
